{"version":3,"sources":["contexts/AuthContext.js","components/PrivateRoute.js","components/SignIn.js","components/SignUp.js","actions/actionType.js","components/Task.js","components/Tasks.js","components/AddTask.js","components/Header.js","components/Dash.js","App.js","reducers/index.js","reducers/todo.js","store.js","index.js","DBConfig.js"],"names":["authContext","createContext","AuthProvider","children","useState","loading","data","auth","setAuth","useEffect","JSON","parse","window","localStorage","getItem","setItem","stringify","Provider","value","setAuthData","PrivateRoute","Component","component","rest","useContext","render","routeProps","to","SignIn","history","userName","setuserName","password","setPassword","useIndexedDB","add","getByIndex","addDefaultUsers","name","pass","obj","then","event","console","log","error","className","style","textAlign","onSubmit","e","preventDefault","userDetails","replace","type","placeholder","onChange","target","href","SignUp","TASK_ADDED","TASK_REMOVED","TASK_TOGGLE","TASK_POPULATE","TASK_UPDATE","Task","task","onEdit","onDelete","onToggle","status","onDoubleClick","id","defaultChecked","title","desc","onClick","color","Tasks","isEdit","setIsEdit","setTitle","setDesc","getAll","update","deleteRecord","tasks","useSelector","state","todo","dispatch","useDispatch","allTasks","filter","personId","payload","currentTask","scrollTo","length","map","AddTask","titleRef","useRef","descRef","ref","t","d","current","alert","Header","position","Dash","App","path","from","combineReducers","action","actions","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","initDB","version","objectStoresMeta","storeConfig","keyPath","autoIncrement","storeSchema","keypath","options","unique","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3e039c0f.chunk.js","sourcesContent":["import { createContext, useState, useEffect } from 'react';\r\n\r\nexport const authContext = createContext({});\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const [auth, setAuth] = useState({ loading: true, data: null });\r\n\r\n  const setAuthData = (data) => {\r\n    setAuth({data: data});\r\n  };\r\n\r\n  useEffect(() => {\r\n    setAuth({ loading: false, data: JSON.parse(window.localStorage.getItem('authData'))});\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem('authData', JSON.stringify(auth.data));\r\n  }, [auth.data]);\r\n\r\n  return (\r\n    <authContext.Provider value={{ auth, setAuthData }}>\r\n      {children}\r\n    </authContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;\r\n","import { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authContext } from '../contexts/AuthContext';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const { auth } = useContext(authContext);\r\n  const { loading } = auth;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={() => {\r\n          return <p>Loading...</p>;\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={routeProps => {\r\n        return auth.data ? (\r\n          <Component {...routeProps} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import { useContext, useState, useEffect } from 'react';\r\nimport { authContext } from \"../contexts/AuthContext\";\r\nimport { useIndexedDB } from 'react-indexed-db';\r\n\r\nconst SignIn = ({ history }) => {\r\n  const [userName, setuserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const { setAuthData } = useContext(authContext);\r\n  const { add, getByIndex } = useIndexedDB('people');\r\n\r\n  useEffect(() => {\r\n    // set 3 default users\r\n    if(!window.localStorage.getItem('addedDefaultUsers')) {\r\n      addDefaultUsers({ name: 'user1', pass: '123456' });\r\n      addDefaultUsers({ name: 'user2', pass: '123456' });\r\n      addDefaultUsers({ name: 'user3', pass: '123456' });\r\n      window.localStorage.setItem('addedDefaultUsers', true)\r\n    }\r\n  }, []);\r\n\r\n  const addDefaultUsers = (obj) => {\r\n    add(obj).then(\r\n      event => {\r\n        console.log('ID Generated: ', event);\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  };\r\n\r\n  const onFormSubmit = e => {\r\n    e.preventDefault();\r\n    // fetch and check credentials\r\n    if (userName && password) {\r\n      getByIndex('name', userName).then(userDetails => {\r\n        console.log(userDetails);\r\n        if (userDetails && userDetails.pass === password) {\r\n          setAuthData(userName);\r\n          history.replace('/app');\r\n        } else {\r\n          console.error('Incorrect credectials')\r\n        }\r\n      });\r\n    } else {\r\n      console.error('Empty credectials')\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"add-form\">\r\n        <div className=\"form-control\">\r\n          <h1 style={{textAlign: \"center\"}} >Login</h1>\r\n          <form onSubmit={onFormSubmit}>\r\n            <label>Username</label>\r\n            <input type=\"text\" placeholder=\"Enter Username\"\r\n              onChange={e => {\r\n                setuserName(e.target.value);\r\n              }}\r\n            />\r\n            <label>Password</label>\r\n            <input type=\"password\" placeholder=\"Password\"\r\n              onChange={e => {\r\n                setPassword(e.target.value);\r\n              }}\r\n            />\r\n            <button type=\"submit\" className=\"btn btn-success\" >\r\n              Sign in\r\n              </button>\r\n          </form>\r\n        </div>\r\n        <a href=\"#/signup\">Register</a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import { useState } from 'react';\r\nimport { useIndexedDB } from 'react-indexed-db';\r\n\r\nconst SignUp = ({ history }) => {\r\n  const [userName, setuserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const { add } = useIndexedDB('people');\r\n\r\n  const onFormSubmit = e => {\r\n    e.preventDefault();\r\n    // add credentials\r\n    if (userName && password ) {\r\n      add({ name: userName, pass: password }).then(\r\n        event => {\r\n          console.log('User Added: ', event);\r\n          history.replace('/signin');\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );      \r\n    } else {\r\n      console.error('Empty credectials')\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"add-form\">\r\n        <div className=\"form-control\">\r\n          <h1  style={{textAlign: \"center\"}} >Register</h1>\r\n          <form onSubmit={onFormSubmit}>\r\n            <label>Username</label>\r\n            <input type=\"text\" placeholder=\"Enter Username\"\r\n              onChange={e => {\r\n                setuserName(e.target.value);\r\n              }}\r\n            />\r\n            <label>Password</label>\r\n            <input type=\"password\" placeholder=\"Password\"\r\n              onChange={e => {\r\n                setPassword(e.target.value);\r\n              }}\r\n            />\r\n            <button type=\"submit\" className=\"btn btn-register\" >\r\n              Sign Up\r\n              </button>\r\n          </form>\r\n        </div>\r\n        <a href=\"#/signin\">Login</a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","export const TASK_ADDED = 'todo/added';\r\nexport const TASK_REMOVED = 'todo/removed';\r\nexport const TASK_TOGGLE = 'todo/toggle';\r\nexport const TASK_POPULATE = 'todo/populate';\r\nexport const TASK_UPDATE ='todo/update';\r\n","const Task = ({ task, onEdit, onDelete, onToggle }) => {\r\n  return (\r\n    <div className={`task ${task.status ? 'status' : ''}`}\r\n      onDoubleClick={() => onToggle(task.id)}\r\n    >\r\n      <input type=\"checkbox\" onChange={() => onToggle(task.id)} defaultChecked={`${task.status ? 'checked' : ''}`} />\r\n      <h3>{task.title}</h3>\r\n      <p>{task.desc}</p>\r\n      <button onClick={() => onEdit(task.id)}>Edit</button>\r\n      <button\r\n        onClick={() => onDelete(task.id)}\r\n        style={{ color: 'red' }}>Delete\r\n        </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Task;\r\n","import Task from './Task';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { TASK_REMOVED, TASK_TOGGLE, TASK_POPULATE } from \"../actions/actionType\";\r\nimport { useEffect, useContext } from 'react';\r\nimport { useIndexedDB } from 'react-indexed-db';\r\nimport { authContext } from '../contexts/AuthContext';\r\n\r\n\r\nconst Tasks = ({ isEdit, setIsEdit, setTitle, setDesc }) => {\r\n  const { getAll, update, deleteRecord } = useIndexedDB('task');\r\n  const tasks = useSelector(state => state.todo);\r\n  const { auth } = useContext(authContext);\r\n  const dispatch = useDispatch();\r\n\r\n  // get todos from db and populate in state\r\n  useEffect(() => {\r\n    getAll().then(\r\n      allTasks => {\r\n        const data = allTasks.filter(task => task.personId === auth.data)\r\n        dispatch({\r\n          type: TASK_POPULATE,\r\n          payload: data\r\n        });\r\n      console.log(data);\r\n    },\r\n    error => {\r\n      console.log(error)\r\n    });\r\n  },[]);\r\n  \r\n// toggle task status\r\n  const onToggle = id => {\r\n    let currentTask = tasks.filter(task => task.id === id )\r\n    currentTask = currentTask[0]\r\n    console.log(currentTask);\r\n    update({ ...currentTask, status: !currentTask.status, personId: auth.data }).then(event => {\r\n      dispatch({\r\n        type: TASK_TOGGLE,\r\n        payload: { id: id }\r\n      });\r\n    });\r\n  };\r\n\r\n  const onDelete = id => {\r\n    if (!isEdit) {\r\n      deleteRecord(id).then(event => {\r\n        dispatch({\r\n          type: TASK_REMOVED,\r\n          payload: { id: id }\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  const onEdit = id => {\r\n    let currentTask = tasks.filter(task => task.id === id )\r\n    currentTask = currentTask[0]\r\n    setIsEdit(currentTask);\r\n    setTitle(currentTask.title);\r\n    setDesc(currentTask.desc);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {tasks.length > 0 ? (\r\n        tasks.map(task => (\r\n          <Task key={task.id} task={task} onDelete={onDelete} onToggle={onToggle} onEdit={onEdit} />\r\n        ))\r\n      ) : (\r\n        \"No Tasks to show\"\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Tasks;\r\n","import { useRef, useContext, useState } from 'react';\r\nimport { useIndexedDB } from 'react-indexed-db';\r\nimport { useDispatch } from 'react-redux';\r\nimport { TASK_ADDED, TASK_UPDATE } from '../actions/actionType';\r\nimport { authContext } from '../contexts/AuthContext';\r\nimport Tasks from './Tasks';\r\n\r\nconst AddTask = () => {\r\n  const titleRef = useRef();\r\n  const descRef = useRef();\r\n  const [title, setTitle] = useState('');\r\n  const [desc, setDesc] = useState('');\r\n  const [ isEdit, setIsEdit ] = useState('');\r\n  const dispatch = useDispatch();\r\n  const { add, update } = useIndexedDB('task');\r\n  const { auth } = useContext(authContext);\r\n\r\n  // insert task to database and redux\r\n  const onAddClick = () => {\r\n    if (!title) {\r\n      alert(\"please add title\")\r\n      return\r\n    }\r\n    const t = title;\r\n    const d = desc;\r\n\r\n    add({ title: t, desc: d,  status: false, personId: auth.data }).then(\r\n      event => {\r\n        // inserted task id\r\n        console.log('ID Generated: ', event);\r\n        dispatch({\r\n          type: TASK_ADDED,\r\n          payload: { id: event, title: t, desc: d }\r\n        });\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n\r\n    // Clear form\r\n    titleRef.current.value = '';\r\n    descRef.current.value = '';\r\n    setTitle('');\r\n    setDesc('');\r\n  };\r\n\r\n  // Update task to database and redux\r\n  const onUpdateClick = () => {\r\n    if (!title) {\r\n      alert(\"please add title\")\r\n      return\r\n    }\r\n    const t = title;\r\n    const d = desc;\r\n\r\n    update({ id: isEdit.id, title: t, desc: d, status: isEdit.status, personId: auth.data }).then(\r\n      event => {\r\n        dispatch({\r\n          type: TASK_UPDATE,\r\n          payload: { id: isEdit.id, title: t, desc: d }\r\n        });\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n\r\n    // Clear form\r\n    titleRef.current.value = '';\r\n    descRef.current.value = '';\r\n    setIsEdit('');\r\n    setTitle('');\r\n    setDesc('');\r\n    \r\n  };\r\n\r\n  return (\r\n    <>\r\n    <div className=\"add-form\">\r\n      <div className=\"form-control\">\r\n        <div>\r\n          <label className=\"form-label\">Title</label>\r\n          <input ref={titleRef} type=\"text\" placeholder=\"Title\" value={title} onChange={e => {\r\n                setTitle(e.target.value);\r\n              }}/>\r\n        </div>\r\n        <div>\r\n          <label className=\"form-label\">Description</label>\r\n          <textarea ref={descRef} placeholder=\"description (optional)\" value={desc} onChange={e => {\r\n                setDesc(e.target.value); }}></textarea>\r\n        </div>\r\n        {!isEdit ?\r\n        <button className=\"btn btn-success\" onClick={onAddClick} type=\"submit\">Add</button>\r\n        :\r\n        <button className=\"btn btn-register\" onClick={onUpdateClick} type=\"submit\">Update</button>\r\n        }\r\n      </div>\r\n    </div>\r\n    <Tasks setIsEdit={setIsEdit} setTitle={setTitle} setDesc={setDesc} isEdit={isEdit} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddTask;\r\n","import React, { useContext } from \"react\";\r\nimport { authContext } from \"../contexts/AuthContext\";\r\n\r\nconst Header = () => {\r\n  const { setAuthData, auth } = useContext(authContext);\r\n  const onLogOut = () => {\r\n    setAuthData(null);\r\n  } //clearing the context\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <h2 className=\"header\"> {`Hello, ${auth.data}`} </h2>\r\n      <button className=\"btn btn-logout\" onClick={onLogOut}>Log out</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import AddTask from './AddTask';\r\nimport Header from './Header'\r\n\r\nconst Dash = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <Header />\r\n      <AddTask />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dash;\r\n","import { Switch, Route, Redirect, HashRouter } from 'react-router-dom';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport SignIn from './components/SignIn';\r\nimport SignUp from './components/SignUp';\r\nimport Dash from './components/Dash';\r\n\r\nconst App = () => {\r\n  return (\r\n    <HashRouter>\r\n        <Switch>\r\n          <Route path=\"/login\" component={SignIn} />\r\n          <Route path=\"/signup\" component={SignUp} />\r\n          <PrivateRoute path=\"/app\" component={Dash} />\r\n          <Redirect from='/' to='/app' />\r\n        </Switch>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport todo from './todo';\r\n\r\nexport default combineReducers({todo});","import * as actions from \"../actions/actionType\";\r\n\r\nexport default function todoReducer(state = [], action) {\r\n  switch (action.type) {\r\n    case actions.TASK_ADDED:\r\n      return [\r\n        ...state,\r\n        {\r\n          id: action.payload.id,\r\n          title: action.payload.title,\r\n          desc: action.payload.desc,\r\n          status: false\r\n        }\r\n      ];\r\n    case actions.TASK_REMOVED:\r\n      return state.filter(task => task.id !== action.payload.id);\r\n    case actions.TASK_TOGGLE:\r\n      return state.map((task) => task.id === action.payload.id ? { ...task, status: !task.status } : task);\r\n    case actions.TASK_POPULATE:\r\n      return state.todo = action.payload;\r\n    case actions.TASK_UPDATE:\r\n      return state.map((task) => task.id === action.payload.id ? { ...task, title: action.payload.title, desc: action.payload.desc } : task);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst store  = createStore(rootReducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { DBConfig } from './DBConfig';\r\nimport { initDB } from 'react-indexed-db';\r\nimport './index.css';\r\nimport App from './App';\r\nimport AuthProvider from './contexts/AuthContext';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\ninitDB(DBConfig);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n    <AuthProvider>\r\n    <App />\r\n    </AuthProvider>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n","export const DBConfig = {\r\n  name: 'MyDB',\r\n  version: 1,\r\n  objectStoresMeta: [\r\n    {\r\n      store: 'people',\r\n      storeConfig: { keyPath: 'id', autoIncrement: true },\r\n      storeSchema: [\r\n        { name: 'name', keypath: 'name', options: { unique: true } },\r\n        { name: 'pass', keypath: 'pass', options: { unique: false } }\r\n      ]\r\n    },\r\n    {\r\n      store: 'task',\r\n      storeConfig: { keyPath: 'id', autoIncrement: true },\r\n      storeSchema: [\r\n        { name: 'peopleId', keypath: 'peopleId', options: { unique: false } },\r\n        { name: 'title', keypath: 'title', options: { unique: false } },\r\n        { name: 'desc', keypath: 'desc', options: { unique: false } },\r\n        { name: 'status', keypath: 'status', options: { unique: false } }\r\n      ]\r\n    }\r\n  ]\r\n};\r\n"],"sourceRoot":""}