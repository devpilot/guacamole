(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{33:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(15),o=n.n(s),r=n(11),i=(n(33),n(9)),d="todo/added",j="todo/removed",l="todo/toggle",u="todo/populate",b=n(1),O=n(6),p=n(19),h=n(2),x=n(26),m=n(8),f=Object(a.createContext)({}),g=function(e){var t=e.children,n=Object(a.useState)({loading:!0,data:null}),c=Object(m.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){o({loading:!1,data:JSON.parse(window.localStorage.getItem("authData"))})}),[]),Object(a.useEffect)((function(){window.localStorage.setItem("authData",JSON.stringify(s.data))}),[s.data]),Object(b.jsx)(f.Provider,{value:{auth:s,setAuthData:function(e){o({data:e})}},children:t})},y=function(e){var t=e.component,n=Object(x.a)(e,["component"]),c=Object(a.useContext)(f).auth;return c.loading?Object(b.jsx)(h.b,Object(O.a)(Object(O.a)({},n),{},{render:function(){return Object(b.jsx)("p",{children:"Loading..."})}})):Object(b.jsx)(h.b,Object(O.a)(Object(O.a)({},n),{},{render:function(e){return c.data?Object(b.jsx)(t,Object(O.a)({},e)):Object(b.jsx)(h.a,{to:"/login"})}}))},v=function(e){var t=e.history,n=Object(a.useState)(),c=Object(m.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(),i=Object(m.a)(r,2),d=i[0],j=i[1],l=Object(a.useContext)(f).setAuthData;return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{class:"add-form",children:[Object(b.jsxs)("div",{class:"form-control",children:[Object(b.jsx)("h1",{style:{textAlign:"center"},children:"Login"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"admin"===s&&"test123"===d?(l(s),t.replace("/app")):console.error("Incorrect credectials")},children:[Object(b.jsx)("label",{children:"Username"}),Object(b.jsx)("input",{type:"text",placeholder:"Enter Username",onChange:function(e){o(e.target.value)}}),Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){j(e.target.value)}}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success",children:"Sign in"})]})]}),Object(b.jsx)("a",{href:"/signup",children:"Register"})]})})},S=function(e){var t=e.history,n=Object(a.useState)(),c=Object(m.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(),i=Object(m.a)(r,2),d=i[0],j=i[1],l=Object(a.useContext)(f).setAuthData;return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{class:"add-form",children:[Object(b.jsxs)("div",{class:"form-control",children:[Object(b.jsx)("h1",{style:{textAlign:"center"},children:"Register"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"admin"===s&&"test123"===d?(l(s),t.replace("/app")):console.error("Incorrect credectials")},children:[Object(b.jsx)("label",{children:"Username"}),Object(b.jsx)("input",{type:"text",placeholder:"Enter Username",onChange:function(e){o(e.target.value)}}),Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){j(e.target.value)}}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success",children:"Sign Up"})]})]}),Object(b.jsx)("a",{href:"/signin",children:"Login"})]})})},w=function(){var e=Object(a.useContext)(f),t=e.setAuthData,n=e.auth;return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{style:{width:300},children:[Object(b.jsxs)("h1",{className:"text-center",children:[" ","Hello, ".concat(n.data)," "]}),Object(b.jsx)("button",{variant:"primary",type:"button",className:"w-100 mt-3",onClick:function(){t(null)},children:"Log out"})]})})},D=function(){return Object(b.jsx)(p.a,{children:Object(b.jsxs)(h.d,{children:[Object(b.jsx)(h.b,{path:"/login",component:v}),Object(b.jsx)(h.b,{path:"/signup",component:S}),Object(b.jsx)(y,{path:"/app",component:w}),Object(b.jsx)(h.a,{from:"/",to:"/app"})]})})},E=n(12),k=n(28);var C=Object(E.b)({todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return[].concat(Object(k.a)(e),[{id:t.payload.id,title:t.payload.title,desc:t.payload.desc,status:!1}]);case j:return e.filter((function(e){return e.id!==t.payload.id}));case l:return e.map((function(e){return e.id===t.payload.id?Object(O.a)(Object(O.a)({},e),{},{status:!e.status}):e}));case u:return e.todo=t.payload;default:return e}}}),N=Object(E.c)(C,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(r.initDB)({name:"MyDB",version:1,objectStoresMeta:[{store:"people",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name",options:{unique:!1}},{name:"pass",keypath:"pass",options:{unique:!1}}]},{store:"task",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"peopleId",keypath:"peopleId",options:{unique:!1}},{name:"title",keypath:"title",options:{unique:!1}},{name:"desc",keypath:"desc",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}}]}]}),o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(i.a,{store:N,children:Object(b.jsx)(g,{children:Object(b.jsx)(D,{})})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.c42e9f94.chunk.js.map